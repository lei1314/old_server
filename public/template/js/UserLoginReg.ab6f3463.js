(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UserLoginReg"],{"013f":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"content"},[e("UcNav",{attrs:{arrow:"gray"}}),e("h1"),e("div",{staticClass:"login-box"},[e("p",{staticClass:"lsolid"}),e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login","exact-active-class":"redcol"}},[t._v("登录")]),e("span"),e("router-link",{attrs:{to:"/reg","exact-active-class":"redcol"}},[t._v("注册")])],1),e("p",{staticClass:"rsolid"})]),e("div",{staticClass:"inputox"},[e("Input",{attrs:{msg:"账号"},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}}),e("Input",{attrs:{msg:"密码",inputtype:"password"},model:{value:t.userpass,callback:function(s){t.userpass=s},expression:"userpass"}})],1),e("div",{staticClass:"footbox"},[e("br"),e("p",{staticClass:"errcol"},[t._v(" "+t._s(t.errorMess)+" ")]),e("Button",{attrs:{text:"登 录",bgColor:"red"},on:{click:t.login}}),e("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)])},n=[],r=(e("ac1f"),e("5319"),e("73e1")),i=e("1270"),o=e("056d"),u=e("2a7d"),c={name:"Login",props:{},data:function(){return{username:"",userpass:"",errorMess:""}},components:{Button:u["a"],Footer:o["a"],Input:i["a"],UcNav:r["a"]},mounted:function(){},updated:function(){},methods:{login:function(){var t=this;axios({url:"/api/login",method:"post",data:{username:this.username,password:this.userpass}}).then((function(s){1===s.data.err?t.errorMess=s.data.msg:(window.localStorage.setItem("user",JSON.stringify(s.data)),t.$store.commit("user/USER",s.data),t.username=t.password=t.errorMess="",t.$route.query.p?t.$router.replace(t.$route.query.p):t.$router.replace("/user"))}))}}},l=c,p=(e("f71c"),e("2877")),d=Object(p["a"])(l,a,n,!1,null,"746f4ea8",null);s["default"]=d.exports},"05c8":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"content"},[e("UcNav",{attrs:{arrow:"gray",borderWidth:0}}),e("h1",{attrs:{id:"h1"},on:{click:t.upload}}),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"}}),e("div",{staticClass:"login-box"},[e("p",{staticClass:"lsolid"}),e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login","exact-active-class":"redcol"}},[t._v("登录")]),e("span"),e("router-link",{attrs:{to:"/reg","exact-active-class":"redcol"}},[t._v("注册")])],1),e("p",{staticClass:"rsolid"})]),e("div",{staticClass:"inputox"},[e("Input",{attrs:{msg:"昵称"},model:{value:t.nikename,callback:function(s){t.nikename=s},expression:"nikename"}}),e("Input",{attrs:{msg:"账号"},model:{value:t.username,callback:function(s){t.username=s},expression:"username"}}),e("Input",{attrs:{msg:"密码",inputtype:"password"},model:{value:t.userpass,callback:function(s){t.userpass=s},expression:"userpass"}})],1),e("div",{staticClass:"footbox"},[e("br"),e("p",{staticClass:"errcol"},[t._v(" "+t._s(t.errorMess)+" ")]),e("Button",{staticClass:"btn1",attrs:{text:"注 册"},on:{click:t.show}}),e("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)])},n=[],r=e("73e1"),i=e("1270"),o=e("056d"),u=e("2a7d"),c={name:"Reg",props:{},data:function(){return{nikename:"",username:"",userpass:"",errorMess:""}},components:{Button:u["a"],Footer:o["a"],Input:i["a"],UcNav:r["a"]},mounted:function(){},updated:function(){},methods:{upload:function(){var t=document.getElementById("file");t.click()},show:function(){var t=this,s=new FormData;s.append("username",this.username),s.append("nikename",this.nikename),s.append("password",this.userpass);var e=document.getElementById("file");s.append("icon",e.files[0]),axios({url:"/api/reg",method:"post",data:s}).then((function(s){"0"==s.data.err?(console.log("注册成功"),console.log(s.data),t.$router.push("/login")):(console.log("注册失败",s.data),t.errorMess=s.data.msg)}))}}},l=c,p=(e("109a"),e("2877")),d=Object(p["a"])(l,a,n,!1,null,"a8bf8a24",null);s["default"]=d.exports},"109a":function(t,s,e){"use strict";var a=e("7899"),n=e.n(a);n.a},1270:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"lifirst"},[e("input",{attrs:{type:t.inputtype},domProps:{value:t.value},on:{input:function(s){return t.$emit("input",s.target.value)}}}),e("span",[t._v(t._s(t.msg))])])},n=[],r={name:"Input",props:{msg:{type:String,default:"标题"},inputtype:{type:String,default:"text"},value:{type:String,default:""}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},i=r,o=(e("b1f0"),e("2877")),u=Object(o["a"])(i,a,n,!1,null,"249fdbbb",null);s["a"]=u.exports},1407:function(t,s,e){},"2a7d":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"Button"},[e("input",{staticClass:"login-btn",style:{backgroundColor:t.bgColor},attrs:{type:"button",value:t.text},on:{click:function(s){return t.$emit("click")}}})])},n=[],r={name:"Button",props:{text:{type:String,default:"按钮"},bgColor:{type:String,default:"green"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},i=r,o=(e("da52"),e("2877")),u=Object(o["a"])(i,a,n,!1,null,"bb65f5fa",null);s["a"]=u.exports},7899:function(t,s,e){},"95bb":function(t,s,e){},b1f0:function(t,s,e){"use strict";var a=e("f5c6"),n=e.n(a);n.a},c274:function(t,s,e){},d843:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"content"},[e("div",{staticClass:"header"},[e("h2",[e("img",{attrs:{src:t.$baseUrl+t.$store.state.user.user.data.icon,alt:""}})]),e("div",{staticClass:"user-box"},[e("a",[t._v(t._s(t.$store.state.user.user.data.nikename))]),t._v("| "),e("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("注销")])]),e("ul",{staticClass:"clear"},[e("li",[e("span",[t._v(t._s(t.$store.state.user.user.data.follow))]),e("p",[t._v("关注")])]),e("li",[e("span",[t._v(t._s(t.$store.state.user.user.data.fans))]),e("p",{staticClass:"end"},[t._v("粉丝")])])])]),t._m(0)])])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"docList"},[e("ul",[e("li",{staticClass:"gk-text"},[e("i"),e("p",[t._v("公开博文")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"mm-text"},[e("i"),e("p",[t._v("秘密博文")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"cg-text"},[e("i"),e("p",[t._v("草稿箱")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"sc-text"},[e("i"),e("p",[t._v("收藏夹")]),e("b"),e("span",[t._v("0")])]),e("li",{staticClass:"my_cz"},[e("i"),e("p",[t._v("收藏夹")])])])])}],r=e("bc3a"),i=e.n(r),o=(e("1a58"),{beforeRouteEnter:function(t,s,e){i()({url:"/api/user"}).then((function(t){0==t.data.err?e((function(s){return s.user=t.data.data})):e("/login")}))},name:"User",props:{},data:function(){return{user:{}}},components:{},mounted:function(){},updated:function(){},methods:{logout:function(){window.localStorage.removeItem("user"),this.$store.commit("user/USER",{err:1}),this.$router.push("/login")}}}),u=o,c=(e("e8f5"),e("2877")),l=Object(c["a"])(u,a,n,!1,null,"e6550f1a",null);s["default"]=l.exports},da52:function(t,s,e){"use strict";var a=e("95bb"),n=e.n(a);n.a},e8f5:function(t,s,e){"use strict";var a=e("1407"),n=e.n(a);n.a},f5c6:function(t,s,e){},f71c:function(t,s,e){"use strict";var a=e("c274"),n=e.n(a);n.a}}]);
//# sourceMappingURL=UserLoginReg.ab6f3463.js.map